# Log-Normal-Shadowing-Model
Formula to Get Shadowing Using Parameter RSSI Wi-Fi in ESP Arduino IDE

In the log-normal shadowing model, the log-normal shadowing term, denoted as X, follows a log-normal distribution. The distribution is specified by its mean (μ) and standard deviation (σ).

<h3>Mean and Standard Deviation</h3>
to get mean μ and standard deviation σ can be use formula log-normal distribution, where:

![alt text](https://drive.google.com/file/d/11xlQBBXwmf8TKQTFsjIy6HvmerSE_ZZ2/view?usp=sharing)


The notation X ~ LogNormal(μ, σ) represents that the random variable X is distributed according to a log-normal distribution with mean μ and standard deviation σ.

In the formula <b>X = exp(μ + σ * z1)</b>, where z1 is a Gaussian random variable, the log-normal shadowing term X is generated by taking the exponential of a value obtained by adding the mean μ to the product of the standard deviation σ and a random variable z1 following a Gaussian (normal) distribution.

By adjusting the mean (μ) and standard deviation (σ) values in the log-normal distribution, you can control the characteristics of the shadowing effect in the model. Typically, the mean μ is set to 0, indicating that the log-normal shadowing term has no systematic bias, while the standard deviation σ represents the magnitude of random variations in the signal strength due to shadowing.


1. Indoor Environment: For indoor environments, where the presence of obstacles and reflections can cause significant variations in signal strength, a reasonable range for "mu" could be between -4 and 0. This range captures the typical attenuating effects of walls, furniture, and other objects.

2. Outdoor Environment: In outdoor environments with line-of-sight conditions, where obstacles are minimal, the range for "mu" could be between -2 and 2. The larger range reflects the relatively unobstructed propagation characteristics and the presence of other factors such as terrain and vegetation.

3. Specific Environments: For specific environments with unique characteristics, it's best to analyze empirical data or conduct measurements to determine the appropriate range for "mu". This analysis allows you to capture the specific shadowing effects present in your environment accurately.

Generating Log-Normal Shadowing Term:
The log-normal shadowing term represents the random variations in signal strength due to shadowing effects. It is modeled as a log-normal distribution, characterized by its mean and standard deviation.
To generate a log-normal shadowing term, you can use the Box-Muller transform to convert random numbers from a Gaussian distribution (mean 0, standard deviation 1) to a log-normal distribution.

The steps to generate a log-normal shadowing term are as follows:

Generate two random numbers, u1 and u2, uniformly distributed between 0 and 1.
Calculate two independent Gaussian random variables, z1 and z2, using the Box-Muller transform:
z1 = sqrt(-2 * log(u1)) * cos(2 * PI * u2)
z2 = sqrt(-2 * log(u1)) * sin(2 * PI * u2)
Calculate the log-normal shadowing term, X, by applying the inverse transform to z1:
X = exp(mu + sigma * z1)


------------------------------------------------>

Empirical Measurements: Conduct field measurements by placing the transmitter and receiver at various distances (d) in the specific environment. Measure the received signal strength (PL(d)) at each distance and the corresponding reference signal strength (PL(d0)) at the reference distance (d0). Then, using the measurements, calculate the path loss exponent (n) using the formula:

<b>n = (PL(d) - PL(d0)) / (10 * log10(d / d0))</b>

By taking multiple measurements at different distances, you can estimate the path loss exponent through regression analysis or curve fitting techniques.

Modeling and Simulation: If accurate measurements are not feasible, you can use modeling and simulation techniques to estimate the path loss exponent. This approach involves developing a propagation model that represents the specific environment and factors affecting signal propagation. By simulating signal propagation and comparing the simulated results with real-world measurements or known data, you can determine the path loss exponent that best fits the observed data.

Existing Studies or Models: Consult existing research studies or propagation models that have been conducted in similar environments or with similar equipment. These studies often provide recommended or typical values for the path loss exponent based on their findings. However, keep in mind that the path loss exponent can vary significantly depending on the specific environment, frequency, and other factors. Therefore, it's advisable to perform your own measurements or analysis if possible.

--------------->

<h2>Path Loss Exponent Formula:</h2>
The path loss exponent represents the rate at which the signal strength decreases with distance. It is typically determined empirically through measurements or analysis. The general formula to calculate path loss is:

<b>PL(d) = PL(d0) + 10 * n * log10(d / d0)</b>

where:
PL(d) is the path loss at distance d,
PL(d0) is the path loss at the reference distance d0,
n is the path loss exponent, and
d and d0 are the distances.

The path loss exponent (n) is an important parameter that depends on the specific environment and can vary between different scenarios.

<h2>Log-Normal Shadowing Formula:</h2>
The log-normal shadowing effect accounts for the random variations in the received signal strength due to environmental factors. It is commonly modeled as a log-normal distribution. The formula for incorporating the log-normal shadowing effect is:

<b>RSSI(d) = RSSI(ref) - PL(d) + X</b>

where:
RSSI(d) is the received signal strength indication (RSSI) at distance d,
RSSI(ref) is the reference RSSI at a reference distance,
PL(d) is the path loss at distance d calculated using the path loss formula,
X is the log-normal shadowing term.

Source By : ChatGPT in the Reference Link Websites

"Exponential Moving Average" on Wikipedia: https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average
"Exponential Moving Average Explained" by Towards Data Science: https://towardsdatascience.com/exponential-moving-average-ema-explained-809e2f40b849
"Exponential Smoothing for Time Series Forecasting" by Machine Learning Mastery: https://machinelearningmastery.com/exponential-smoothing-for-time-series-forecasting-in-python/

Source By Article Books:
Path Loss and Shadowing Models:
For path loss models and shadowing, you can refer to wireless communication textbooks and research papers. Some popular books include:
 1. "Wireless Communications: Principles and Practice" by Theodore S. Rappaport
 2. "Wireless Communications and Networks" by William Stallings
 3. "Mobile Communications" by Jochen Schiller
 4. The Box-Muller transform is a method to generate random numbers from a normal distribution (Gaussian distribution). You can find detailed explanations and examples in probability and statistics textbooks or research papers.
